webpackJsonp([15],{321:function(e,t,n){"use strict";function r(e){c||n(703)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(576),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var s=n(705),l=n.n(s),c=!1,u=n(0),f=r,p=u(o.a,l.a,!1,f,"data-v-3526c884",null);p.options.__file="src/views/system/Employee.vue",t.default=p.exports},576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=n(25);t.default={data:function(){var e=this;return{currentPageIdx:1,pageNum:null,delArr:[],ifLoading:!0,ifDelete:!1,departName:null,column_frist:[{type:"selection",width:80,align:"center"},{title:"用户ID",key:"id",width:80},{title:"用户名",key:"username"},{title:"真实姓名",key:"realName"},{title:"所在部门",render:function(e,t){return t.row.department.name}},{title:"角色",key:"roleName"},{title:"手机号",key:"mobilePhone"},{title:"邮箱",key:"email"},{title:"状态",key:"enable",render:function(e,t){var n=t.row.enable,r="",a="success";return n?(r="禁用 ",a="error"):r="正常",e("Button",{props:{type:a,size:"small"}},r)}},{title:"操作",render:function(t,n){return[t("Button",{props:{type:"info",size:"small"},on:{click:function(){(0,r.removeStore)("employeeID"),(0,r.setStore)("employeeID",n.row.id),e.$router.push("/system/employee/auditEmployee")}}},"查看 / 编辑")]}}],userpage:[]}},methods:{changePage:function(e){this.currentPageIdx=e,this.freshPage({pageNo:e,pageSize:10})},select:function(e){var t=this;this.delArr=[],e.forEach(function(e){t.delArr.push(e.id)})},addUserBtn:function(){this.$router.push("/system/employee/auditEmployee")},confirmDel:function(){var e=this;(0,a.delEmployee)({ids:this.delArr}).then(function(t){t.code?e.$Message.error("删除失败！"):(e.freshPage(),e.$Message.success("删除成功！"))}).catch(function(e){})},refreshPageManual:function(){this.freshPage({pageNo:this.currentPageIdx,pageSize:10})},freshPage:function(e){var t=this;this.ifLoading=!0,(0,a.queryEmployee)(e).then(function(e){e.code?t.$Message.error(e.message):(t.userpage=e.data.content,t.ifLoading=!1,t.pageNum=e.data.totalElements)}).catch(function(e){})}},created:function(){(0,r.removeStore)("employeeID"),this.freshPage({pageNo:1,pageSize:10})}}},703:function(e,t,n){var r=n(704);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(7)("9cfc4824",r,!1,{})},704:function(e,t,n){t=e.exports=n(6)(!1),t.push([e.i,"",""])},705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        用户管理\n          "),n("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[n("Icon",{attrs:{type:"refresh"}}),e._v("\n            刷新\n          ")],1)],1),e._v(" "),n("Row",{staticClass:"functionWrapper"},[n("div",{staticClass:"btnsWrapper clearfix"},[n("Button",{attrs:{type:"error"},on:{click:function(t){e.ifDelete=!0}}},[e._v("删除用户")]),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:e.addUserBtn}},[e._v("添加用户")])],1)]),e._v(" "),n("Row",[n("Table",{attrs:{columns:e.column_frist,data:e.userpage,loading:e.ifLoading,border:""},on:{"on-selection-change":e.select}})],1),e._v(" "),n("Row",{staticClass:"pageWrapper"},[n("Page",{staticClass:"buttomPage",attrs:{total:e.pageNum,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1),e._v(" "),n("Modal",{attrs:{title:"删除用户"},on:{"on-ok":e.confirmDel,"on-cancel":function(t){e.$Message.info("已取消！")}},model:{value:e.ifDelete,callback:function(t){e.ifDelete=t},expression:"ifDelete"}},[n("p",[e._v("是否删除所选的"+e._s(e.delArr.length)+"项?")])])],1)],1)},a=[];r._withStripped=!0;var o={render:r,staticRenderFns:a};t.default=o}});