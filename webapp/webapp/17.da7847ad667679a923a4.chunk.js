webpackJsonp([17],{314:function(e,t,a){"use strict";function n(e){d||a(682)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(569),s=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var l=a(684),o=a.n(l),d=!1,p=a(0),c=n,u=p(s.a,o.a,!1,c,"data-v-6e569ba8",null);u.options.__file="src/views/system/Department.vue",t.default=u.exports},569:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(25);t.default={data:function(){var e=this;return{totalNum:null,currentPageIdx:1,ifLoading:!0,ifDelete:!1,delDepartID:null,deleteArr:[],departmentID:null,departmentDetail:{},showDepartDetail:!1,leaderID:null,showAddDepart:!1,departName:null,departDscrp:null,column_frist:[{title:"部门ID",key:"id",width:80},{title:"部门",key:"name"},{title:"创建时间",key:"createTime"},{title:"备注",key:"remark"},{title:"操作",render:function(t,a){return[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showDepartDetail=!0,e.departmentID=a.row.id,(0,n.departDetail)({departmentId:a.row.id}).then(function(t){t.code?e.$Message.error("数据获取出错！"):e.departmentDetail=t.data})}}},"查看 / 编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.ifDelete=!0,e.delDepartID=a.row.id}}},"删除")]}}],userpage:[]}},methods:{changePage:function(){this.freshPage({pageNo:this.currentPageIdx,pageSize:10})},confirmDel:function(){var e=this;(0,n.delDepart)({id:this.delDepartID}).then(function(t){t.code?e.$Message.error(t.message):(e.freshPage(),e.$Message.success(t.message))})},addDepartBtn:function(){this.showAddDepart=!0},updateDepart:function(){var e=this;""!==this.departmentDetail.name&&this.departmentDetail.name?(0,n.addAuditDepart)(this.departmentDetail).then(function(t){t.code?e.$Message.error(t.message):(e.$Message.success(t.message),e.freshPage())}):this.$Message.warning("部门名称不能为空！")},addDepart:function(){var e=this;if(""!==this.departName&&this.departName){var t={name:this.departName,leaderId:this.leaderID,remark:this.departDscrp};(0,n.addAuditDepart)(t).then(function(t){t.code?e.$Message.error(t.message):(e.departName=null,e.leaderID=null,e.departDscrp=null,e.$Message.success(t.message),e.freshPage())})}else this.$Message.warning("部门名称不能为空！")},refreshPageManual:function(){this.freshPage()},freshPage:function(e){var t=this;this.ifLoading=!0,(0,n.departmentManage)(e).then(function(e){e.code?t.$Message.error(e.message):(t.userpage=e.data.content,t.ifLoading=!1,t.totalNum=e.data.totalElements)},function(e){})}},created:function(){this.freshPage()}}},682:function(e,t,a){var n=a(683);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(7)("a482ddc6",n,!1,{})},683:function(e,t,a){t=e.exports=a(6)(!1),t.push([e.i,"\n.addDepartModal p[data-v-6e569ba8] {\n  position: relative;\n  padding-left: 85px;\n  margin-bottom: 10px;\n  width: 400px;\n}\n.addDepartModal p span[data-v-6e569ba8] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 14px;\n  line-height: 32px;\n}\n.addDepartModal p span i[data-v-6e569ba8] {\n  font-size: 16px;\n  font-weight: 700;\n  color: #ec0909;\n}\n.departDetailModal p span em[data-v-6e569ba8] {\n  font-style: normal;\n  letter-spacing: 28px;\n}\n",""])},684:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n    部门管理\n      "),a("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[a("Icon",{attrs:{type:"refresh"}}),e._v("\n        刷新\n      ")],1)],1),e._v(" "),a("Row",{staticClass:"functionWrapper"},[a("div",{staticClass:"btnsWrapper clearfix"},[a("Button",{attrs:{type:"primary"},on:{click:e.addDepartBtn}},[e._v("添加部门")])],1)]),e._v(" "),a("Modal",{staticClass:"addDepartModal",attrs:{title:"添加部门"},on:{"on-ok":e.addDepart},model:{value:e.showAddDepart,callback:function(t){e.showAddDepart=t},expression:"showAddDepart"}},[a("p",[a("span",[e._v("部门名称 "),a("i",[e._v("*")]),e._v("：")]),a("Input",{model:{value:e.departName,callback:function(t){e.departName=t},expression:"departName"}})],1),e._v(" "),a("p",[a("span",[e._v("领导ID：")]),a("Input",{model:{value:e.leaderID,callback:function(t){e.leaderID=t},expression:"leaderID"}})],1),e._v(" "),a("p",[a("span",[e._v("部门描述：")]),a("Input",{attrs:{type:"textarea"},model:{value:e.departDscrp,callback:function(t){e.departDscrp=t},expression:"departDscrp"}})],1)]),e._v(" "),a("Row",[a("Table",{attrs:{columns:e.column_frist,data:e.userpage,loading:e.ifLoading,border:""}})],1),e._v(" "),a("Modal",{staticClass:"addDepartModal departDetailModal",attrs:{title:"部门详情"},on:{"on-ok":e.updateDepart,"on-cancel":function(t){e.$Message.info("已取消！")}},model:{value:e.showDepartDetail,callback:function(t){e.showDepartDetail=t},expression:"showDepartDetail"}},[a("p",[a("span",[a("em",[e._v("领")]),e._v("导ID：")]),a("Input",{model:{value:e.departmentDetail.leaderId,callback:function(t){e.$set(e.departmentDetail,"leaderId",t)},expression:"departmentDetail.leaderId"}})],1),e._v(" "),a("p",[a("span",[a("em",[e._v("部")]),e._v("门：")]),a("Input",{model:{value:e.departmentDetail.name,callback:function(t){e.$set(e.departmentDetail,"name",t)},expression:"departmentDetail.name"}})],1),e._v(" "),a("p",[a("span",[e._v("更新时间：")]),a("Input",{attrs:{disabled:""},model:{value:e.departmentDetail.updateTime,callback:function(t){e.$set(e.departmentDetail,"updateTime",t)},expression:"departmentDetail.updateTime"}})],1),e._v(" "),a("p",[a("span",[e._v("创建时间：")]),a("Input",{attrs:{disabled:""},model:{value:e.departmentDetail.createTime,callback:function(t){e.$set(e.departmentDetail,"createTime",t)},expression:"departmentDetail.createTime"}})],1),e._v(" "),a("p",[a("span",[a("em",[e._v("备")]),e._v("注：")]),a("Input",{attrs:{type:"textarea"},model:{value:e.departmentDetail.remark,callback:function(t){e.$set(e.departmentDetail,"remark",t)},expression:"departmentDetail.remark"}})],1)]),e._v(" "),a("Modal",{attrs:{title:"删除部门"},on:{"on-ok":e.confirmDel,"on-cancel":function(t){e.$Message.info("已取消！")}},model:{value:e.ifDelete,callback:function(t){e.ifDelete=t},expression:"ifDelete"}},[a("p",[e._v("是否删除所选的项?")])]),e._v(" "),a("Row",{staticClass:"pageWrapper"},[a("Page",{staticStyle:{"margin-top":"8px"},attrs:{total:e.totalNum,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1)],1)],1)},r=[];n._withStripped=!0;var s={render:n,staticRenderFns:r};t.default=s}});