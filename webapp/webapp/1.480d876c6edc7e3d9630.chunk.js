webpackJsonp([1],{382:function(t,e,n){"use strict";function r(t){u||n(647)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(543),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var a=n(650),c=n.n(a),u=!1,l=n(0),h=r,f=l(o.a,c.a,!1,h,null,null);f.options.__file="src/views/member/chat/index.vue",e.default=f.exports},407:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},408:function(t,e,n){"use strict";function r(){o.call(this)}var i=n(407),o=n(436);i(r,o),r.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},r.prototype.once=function(t,e){function n(){r.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}var r=this,i=!1;this.on(t,n)},r.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},r.prototype.on=r.prototype.addListener=o.prototype.addEventListener,r.prototype.removeListener=o.prototype.removeEventListener,t.exports.EventEmitter=r},409:function(t,e,n){"use strict";var r=n(435),i=function(){};t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return i("same",t,e,n),n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},410:function(t,e,n){(function(t,r){var i;(function(){function o(t,e){function n(t){if(n[t]!==v)return n[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=e.stringify,l="function"==typeof u&&y;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(b)===v&&u(v)===v&&u()===v&&"1"===u(s)&&"[1]"==u([s])&&"[null]"==u([v])&&"null"==u(null)&&"[null,null,null]"==u([v,b,null])&&u({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===u(null,s)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new c(-1))}catch(t){l=!1}}o=l}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){s=h(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!h('"\t"')}catch(t){}if(f)try{f=1!==h("01")}catch(t){}if(f)try{f=1!==h("1.")}catch(t){}}}}catch(t){f=!1}o=f}}return n[t]=!!o}t||(t=u.Object()),e||(e=u.Object());var r=t.Number||u.Number,i=t.String||u.String,s=t.Object||u.Object,c=t.Date||u.Date,l=t.SyntaxError||u.SyntaxError,h=t.TypeError||u.TypeError,f=t.Math||u.Math,p=t.JSON||u.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var d,m,v,g=s.prototype,b=g.toString,y=new c(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(t){}if(!n("json")){var w=n("bug-string-char-index");if(!y)var _=f.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],S=function(t,e){return x[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};if((d=g.hasOwnProperty)||(d=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?d=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,d=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,d.call(this,t)}),m=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)d.call(r,i)&&o++;return n=r=null,o?m=2==o?function(t,e){var n,r={},i="[object Function]"==b.call(t);for(n in t)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(t,n)||e(n)}:function(t,e){var n,r,i="[object Function]"==b.call(t);for(n in t)i&&"prototype"==n||!d.call(t,n)||(r="constructor"===n)||e(n);(r||d.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(t,e){var n,i,o="[object Function]"==b.call(t),s=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(i=r.length;n=r[--i];s.call(t,n)&&e(n));}),m(t,e)},!n("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(t,e){return("000000"+(e||0)).slice(-t)},k=function(t){for(var e='"',n=0,r=t.length,i=!w||r>10,o=i&&(w?t.split(""):t);n<r;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=C[s];break;default:if(s<32){e+="\\u00"+E(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},N=function(t,e,n,r,i,o,s){var a,c,u,l,f,p,g,y,w,x,C,T,O,I,j,A;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=b.call(a))||d.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(S){for(f=_(a/864e5),u=_(f/365.2425)+1970-1;S(u+1,0)<=f;u++);for(l=_((f-S(u,0))/30.42);S(u,l+1)<=f;l++);f=1+f-S(u,l),p=(a%864e5+864e5)%864e5,g=_(p/36e5)%24,y=_(p/6e4)%60,w=_(p/1e3)%60,x=p%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),f=a.getUTCDate(),g=a.getUTCHours(),y=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+E(6,u<0?-u:u):E(4,u))+"-"+E(2,l+1)+"-"+E(2,f)+"T"+E(2,g)+":"+E(2,y)+":"+E(2,w)+"."+E(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=b.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return k(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw h();if(s.push(a),C=[],j=o,o+=i,"[object Array]"==c){for(O=0,I=a.length;O<I;O++)T=N(O,a,n,r,i,o,s),C.push(T===v?"null":T);A=C.length?i?"[\n"+o+C.join(",\n"+o)+"\n"+j+"]":"["+C.join(",")+"]":"[]"}else m(r||a,function(t){var e=N(t,a,n,r,i,o,s);e!==v&&C.push(k(t)+":"+(i?" ":"")+e)}),A=C.length?i?"{\n"+o+C.join(",\n"+o)+"\n"+j+"}":"{"+C.join(",")+"}":"{}";return s.pop(),A}};e.stringify=function(t,e,n){var r,i,o,s;if(a[typeof e]&&e)if("[object Function]"==(s=b.call(e)))i=e;else if("[object Array]"==s){o={};for(var c,u=0,l=e.length;u<l;c=e[u++],("[object String]"==(s=b.call(c))||"[object Number]"==s)&&(o[c]=1));}if(n)if("[object Number]"==(s=b.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==s&&(r=n.length<=10?n:n.slice(0,10));return N("",(c={},c[""]=t,c),i,o,r,"",[])}}if(!n("json-parse")){var T,O,I=i.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},A=function(){throw T=O=null,l()},M=function(){for(var t,e,n,r,i,o=O,s=o.length;T<s;)switch(i=o.charCodeAt(T)){case 9:case 10:case 13:case 32:T++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?o.charAt(T):o[T],T++,t;case 34:for(t="@",T++;T<s;)if((i=o.charCodeAt(T))<32)A();else if(92==i)switch(i=o.charCodeAt(++T)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=j[i],T++;break;case 117:for(e=++T,n=T+4;T<n;T++)(i=o.charCodeAt(T))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||A();t+=I("0x"+o.slice(e,T));break;default:A()}else{if(34==i)break;for(i=o.charCodeAt(T),e=T;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++T);t+=o.slice(e,T)}if(34==o.charCodeAt(T))return T++,t;A();default:if(e=T,45==i&&(r=!0,i=o.charCodeAt(++T)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(T+1))>=48&&i<=57&&A(),r=!1;T<s&&(i=o.charCodeAt(T))>=48&&i<=57;T++);if(46==o.charCodeAt(T)){for(n=++T;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}if(101==(i=o.charCodeAt(T))||69==i){for(i=o.charCodeAt(++T),43!=i&&45!=i||T++,n=T;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}return+o.slice(e,T)}if(r&&A(),"true"==o.slice(T,T+4))return T+=4,!0;if("false"==o.slice(T,T+5))return T+=5,!1;if("null"==o.slice(T,T+4))return T+=4,null;A()}return"$"},P=function(t){var e,n;if("$"==t&&A(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());n||(n=!0))n&&(","==t?"]"==(t=M())&&A():A()),","==t&&A(),e.push(P(t));return e}if("{"==t){for(e={};"}"!=(t=M());n||(n=!0))n&&(","==t?"}"==(t=M())&&A():A()),","!=t&&"string"==typeof t&&"@"==(w?t.charAt(0):t[0])&&":"==M()||A(),e[t.slice(1)]=P(M());return e}A()}return t},L=function(t,e,n){var r=R(t,e,n);r===v?delete t[e]:t[e]=r},R=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==b.call(i))for(r=i.length;r--;)L(i,r,n);else m(i,function(t){L(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return T=0,O=""+t,n=P(M()),"$"!=M()&&A(),T=O=null,e&&"[object Function]"==b.call(e)?R((r={},r[""]=n,r),"",e):n}}}return e.runInContext=o,e}var s=n(499),a={function:!0,object:!0},c=a[typeof e]&&e&&!e.nodeType&&e,u=a[typeof window]&&window||this,l=c&&a[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),c&&!s)o(u,c);else{var h=u.JSON,f=u.JSON3,p=!1,d=o(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=h,u.JSON3=f,h=f=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}s&&void 0!==(i=function(){return d}.call(e,n,e,t))&&(t.exports=i)}).call(this)}).call(e,n(57)(t),n(14))},411:function(t,e,n){"use strict";(function(e){var r=n(412),i={},o=!1,s=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(t,n){void 0!==e.addEventListener?e.addEventListener(t,n,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,n),e.attachEvent("on"+t,n))},detachEvent:function(t,n){void 0!==e.addEventListener?e.removeEventListener(t,n,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,n),e.detachEvent("on"+t,n))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};var a=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};s||t.exports.attachEvent("unload",a)}).call(e,n(14))},412:function(t,e,n){"use strict";var r=n(491),i="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(t){for(var e=i.length,n=r.randomBytes(t),o=[],s=0;s<t;s++)o.push(i.substr(n[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},413:function(t,e,n){"use strict";function r(t){return function(e,n,r){c("create ajax sender",e,n);var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var o=s.addPath(e,"/xhr_send"),a=new t("POST",o,n,i);return a.once("finish",function(t){if(c("finish",t),a=null,200!==t&&204!==t)return r(new Error("http status "+t));r()}),function(){c("abort"),a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function i(t,e,n,i){a.call(this,t,e,r(i),n,i)}var o=n(407),s=n(409),a=n(437),c=function(){};o(i,a),t.exports=i},414:function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n,{noCredentials:!0})}var i=n(407),o=n(438);i(r,o),r.enabled=o.enabled,t.exports=r},415:function(t,e,n){"use strict";(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(e,n(14))},416:function(t,e,n){"use strict";(function(e){var r=n(411),i=n(410),o=n(415),s=function(){};t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(n,r){e.parent!==e?e.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:n,data:r||""}),"*"):s("Cannot postMessage, no parent window.",n,r)},createIframe:function(t,n){var i,o,a=e.document.createElement("iframe"),c=function(){s("unattach"),clearTimeout(i);try{a.onload=null}catch(t){}a.onerror=null},u=function(){s("cleanup"),a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),r.unloadDel(o))},l=function(t){s("onerror",t),a&&(u(),n(t))},h=function(t,e){s("post",t,e),setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(t){}},0)};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){l("onerror")},a.onload=function(){s("onload"),clearTimeout(i),i=setTimeout(function(){l("onload timeout")},2e3)},e.document.body.appendChild(a),i=setTimeout(function(){l("timeout")},15e3),o=r.unloadAdd(u),{post:h,cleanup:u,loaded:c}},createHtmlfile:function(n,i){var o,a,c,u=["Active"].concat("Object").join("X"),l=new e[u]("htmlfile"),h=function(){clearTimeout(o),c.onerror=null},f=function(){l&&(h(),r.unloadDel(a),c.parentNode.removeChild(c),c=l=null,CollectGarbage())},p=function(t){s("onerror",t),l&&(f(),i(t))},d=function(t,e){try{setTimeout(function(){c&&c.contentWindow&&c.contentWindow.postMessage(t,e)},0)}catch(t){}};l.open(),l.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var m=l.createElement("div");return l.body.appendChild(m),c=l.createElement("iframe"),m.appendChild(c),c.src=n,c.onerror=function(){p("onerror")},o=setTimeout(function(){p("timeout")},15e3),a=r.unloadAdd(f),{post:d,cleanup:f,loaded:h}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!o.isKonqueror())}).call(e,n(14))},417:function(t,e,n){"use strict";function r(t,e){s(t),o.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){s("finish",t,e),n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";s("close",r),n.emit("close",null,r),n._cleanup()})}var i=n(407),o=n(408).EventEmitter,s=function(){};i(r,o),r.prototype._chunkHandler=function(t,e){if(s("_chunkHandler",t),200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&(s("message",i),this.emit("message",i))}},r.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){s("abort"),this.xo&&(this.xo.close(),s("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=r},418:function(t,e,n){"use strict";function r(t,e,n,r){o.call(this,t,e,n,r)}var i=n(407),o=n(438);i(r,o),r.enabled=o.enabled&&o.supportsCORS,t.exports=r},419:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMemberChat=e.setChatStatus=e.getChatHistoryKfAndCd=e.getChatHistory=e.closeAppeal=e.getAppealDetail=e.changeWorkStatus=e.getWorkBench=e.queryCustom=void 0;var r=n(54),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(i,o){(0,r.post)(t,e).then(function(t){t.code===n?i(t.data):o()}).catch(function(t){return o()})})};e.queryCustom=function(t){return(0,r.post)("admin/otc/appeal/appeal",t)},e.getWorkBench=function(t){return i("admin/otc/appeal/appealWorkbench",t)},e.changeWorkStatus=function(t){return i("admin/otc/appeal/workStatus",t)},e.getAppealDetail=function(t){return i("admin/otc/appeal/AppealDetail",t)},e.closeAppeal=function(t){return i("admin/otc/appeal/closeAppeal",t)},e.getChatHistory=function(t){return i("/chat/getHistoryMessageKf.do",t,"000")},e.getChatHistoryKfAndCd=function(t){return i("/chat/getHistoryMessageKfpCd.do",t,"000")},e.setChatStatus=function(t){return i("/chat/read.do",t,"000")},e.getMemberChat=function(t){return i("/admin/member/memberChat",t)}},420:function(t,e,n){"use strict";(function(e){function r(t,e,n){u(t,e);var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=n(408).EventEmitter,o=n(407),s=n(411),a=n(415),c=n(409),u=function(){};o(r,i),r.prototype._start=function(t,n,r){u("_start");var i=this,o=new e.XDomainRequest;n=c.addQuery(n,"t="+ +new Date),o.onerror=function(){u("onerror"),i._error()},o.ontimeout=function(){u("ontimeout"),i._error()},o.onprogress=function(){u("progress",o.responseText),i.emit("chunk",200,o.responseText)},o.onload=function(){u("load"),i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(u("cleanup",t),this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){u("close"),this._cleanup(!0)},r.enabled=!(!e.XDomainRequest||!a.hasDomain()),t.exports=r}).call(e,n(14))},421:function(t,e,n){"use strict";(function(e){var r=n(407),i=n(442),o=n(422);t.exports=function(t){function n(e,n){i.call(this,t.transportName,e,n)}return r(n,i),n.enabled=function(n,r){if(!e.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},n.transportName="iframe-"+t.transportName,n.needBody=!0,n.roundTrips=i.roundTrips+t.roundTrips-1,n.facadeTransport=t,n}}).call(e,n(14))},422:function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},423:function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},433:function(t,e){(function(){var t,n,r,i,o={}.hasOwnProperty,s=[].slice;t={LF:"\n",NULL:"\0"},r=function(){function e(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}var n;return e.prototype.toString=function(){var n,r,i,s,a;n=[this.command],i=!1===this.headers["content-length"],i&&delete this.headers["content-length"],a=this.headers;for(r in a)o.call(a,r)&&(s=a[r],n.push(r+":"+s));return this.body&&!i&&n.push("content-length:"+e.sizeOfUTF8(this.body)),n.push(t.LF+this.body),n.join(t.LF)},e.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},n=function(n){var r,i,o,s,a,c,u,l,h,f,p,d,m,v,g,b,y;for(s=n.search(RegExp(""+t.LF+t.LF)),a=n.substring(0,s).split(t.LF),o=a.shift(),c={},d=function(t){return t.replace(/^\s+|\s+$/g,"")},b=a.reverse(),m=0,g=b.length;m<g;m++)f=b[m],l=f.indexOf(":"),c[d(f.substring(0,l))]=d(f.substring(l+1));if(r="",p=s+2,c["content-length"])h=parseInt(c["content-length"]),r=(""+n).substring(p,p+h);else for(i=null,u=v=p,y=n.length;(p<=y?v<y:v>y)&&(i=n.charAt(u))!==t.NULL;u=p<=y?++v:--v)r+=i;return new e(o,c,r)},e.unmarshall=function(e){var r;return function(){var i,o,s,a;for(s=e.split(RegExp(""+t.NULL+t.LF+"*")),a=[],i=0,o=s.length;i<o;i++)r=s[i],(null!=r?r.length:void 0)>0&&a.push(n(r));return a}()},e.marshall=function(n,r,i){var o;return o=new e(n,r,i),o.toString()+t.NULL},e}(),n=function(){function e(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}var n;return e.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},n=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(t,e,n){var i;for(i=r.marshall(t,e,n),"function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},e.prototype._setupHeartbeat=function(e){var r,o,s,a,c,u;if((c=e.version)===i.VERSIONS.V1_1||c===i.VERSIONS.V1_2)return u=function(){var t,n,r,i;for(r=e["heart-beat"].split(","),i=[],t=0,n=r.length;t<n;t++)a=r[t],i.push(parseInt(a));return i}(),o=u[0],r=u[1],0!==this.heartbeat.outgoing&&0!==r&&(s=Math.max(this.heartbeat.outgoing,r),"function"==typeof this.debug&&this.debug("send PING every "+s+"ms"),this.pinger=i.setInterval(s,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(s=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+s+"ms"),this.ponger=i.setInterval(s,function(t){return function(){var e;if((e=n()-t.serverActivity)>2*s)return"function"==typeof t.debug&&t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close()}}(this))):void 0},e.prototype._parseConnect=function(){var t,e,n,r;switch(t=1<=arguments.length?s.call(arguments,0):[],r={},t.length){case 2:r=t[0],e=t[1];break;case 3:t[1]instanceof Function?(r=t[0],e=t[1],n=t[2]):(r.login=t[0],r.passcode=t[1],e=t[2]);break;case 4:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3];break;default:r.login=t[0],r.passcode=t[1],e=t[2],n=t[3],r.host=t[4]}return[r,e,n]},e.prototype.connect=function(){var e,o,a,c;return e=1<=arguments.length?s.call(arguments,0):[],c=this._parseConnect.apply(this,e),a=c[0],this.connectCallback=c[1],o=c[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){return function(i){var s,a,c,u,l,h,f,p,d,m,v,g;if(u="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(s=new Uint8Array(i.data),"function"==typeof e.debug&&e.debug("--- got data length: "+s.length),function(){var t,e,n;for(n=[],t=0,e=s.length;t<e;t++)a=s[t],n.push(String.fromCharCode(a));return n}().join("")):i.data,e.serverActivity=n(),u===t.LF)return void("function"==typeof e.debug&&e.debug("<<< PONG"));for("function"==typeof e.debug&&e.debug("<<< "+u),v=r.unmarshall(u),g=[],d=0,m=v.length;d<m;d++)switch(l=v[d],l.command){case"CONNECTED":"function"==typeof e.debug&&e.debug("connected to server "+l.headers.server),e.connected=!0,e._setupHeartbeat(l.headers),g.push("function"==typeof e.connectCallback?e.connectCallback(l):void 0);break;case"MESSAGE":p=l.headers.subscription,f=e.subscriptions[p]||e.onreceive,f?(c=e,h=l.headers["message-id"],l.ack=function(t){return null==t&&(t={}),c.ack(h,p,t)},l.nack=function(t){return null==t&&(t={}),c.nack(h,p,t)},g.push(f(l))):g.push("function"==typeof e.debug?e.debug("Unhandled received MESSAGE: "+l):void 0);break;case"RECEIPT":g.push("function"==typeof e.onreceipt?e.onreceipt(l):void 0);break;case"ERROR":g.push("function"==typeof o?o(l):void 0);break;default:g.push("function"==typeof e.debug?e.debug("Unhandled frame: "+l):void 0)}return g}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof o?o(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),a["accept-version"]=i.VERSIONS.supportedVersions(),a["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",a)}}(this)},e.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},e.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},e.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},e.prototype.subscribe=function(t,e,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},e.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},e.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},e.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},e.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},e.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},e}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,e){var r,o;return null==e&&(e=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(t,e),new n(o)},over:function(t){return new n(t)},Frame:r},void 0!==e&&null!==e&&(e.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):e||(self.Stomp=i)}).call(this)},434:function(t,e,n){(function(t){var e=n(434);for(k in e)t[k]=e[k]}).call(e,n(14))},435:function(t,e,n){"use strict";(function(e){function r(t){return(t||"").toString().replace(d,"")}function i(t){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var r=n.location||{};t=t||r;var i,o={},s=typeof t;if("blob:"===t.protocol)o=new a(unescape(t.pathname),{});else if("string"===s){o=new a(t,{});for(i in v)delete o[i]}else if("object"===s){for(i in t)i in v||(o[i]=t[i]);void 0===o.slashes&&(o.slashes=f.test(t.href))}return o}function o(t){t=r(t);var e=p.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function s(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function a(t,e,n){if(t=r(t),!(this instanceof a))return new a(t,e,n);var c,u,f,p,d,v,g=m.slice(),b=typeof e,y=this,w=0;for("object"!==b&&"string"!==b&&(n=e,e=null),n&&"function"!=typeof n&&(n=h.parse),e=i(e),u=o(t||""),c=!u.protocol&&!u.slashes,y.slashes=u.slashes||c&&e.slashes,y.protocol=u.protocol||e.protocol||"",t=u.rest,u.slashes||(g[3]=[/(.*)/,"pathname"]);w<g.length;w++)p=g[w],"function"!=typeof p?(f=p[0],v=p[1],f!==f?y[v]=t:"string"==typeof f?~(d=t.indexOf(f))&&("number"==typeof p[2]?(y[v]=t.slice(0,d),t=t.slice(d+p[2])):(y[v]=t.slice(d),t=t.slice(0,d))):(d=f.exec(t))&&(y[v]=d[1],t=t.slice(0,d.index)),y[v]=y[v]||(c&&p[3]?e[v]||"":""),p[4]&&(y[v]=y[v].toLowerCase())):t=p(t);n&&(y.query=n(y.query)),c&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=s(y.pathname,e.pathname)),l(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(p=y.auth.split(":"),y.username=p[0]||"",y.password=p[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function c(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||h.parse)(e)),r[t]=e;break;case"port":r[t]=e,l(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,/:\d+$/.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var i="pathname"===t?"/":"#";r[t]=e.charAt(0)!==i?i+e:e}else r[t]=e;break;default:r[t]=e}for(var o=0;o<m.length;o++){var s=m[o];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function u(t){t&&"function"==typeof t||(t=h.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,e="object"==typeof n.query?t(n.query):n.query,e&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}var l=n(492),h=n(493),f=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,d=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"),m=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],v={hash:1,query:1};a.prototype={set:c,toString:u},a.extractProtocol=o,a.location=i,a.trimLeft=r,a.qs=h,t.exports=a}).call(e,n(14))},436:function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},437:function(t,e,n){"use strict";function r(t,e,n,r,i){var u=o.addPath(t,e);c(u);var l=this;s.call(this,t,n),this.poll=new a(r,u,i),this.poll.on("message",function(t){c("poll message",t),l.emit("message",t)}),this.poll.once("close",function(t,e){c("poll close",t,e),l.poll=null,l.emit("close",t,e),l.close()})}var i=n(407),o=n(409),s=n(496),a=n(497),c=function(){};i(r,s),r.prototype.close=function(){s.prototype.close.call(this),c("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=r},438:function(t,e,n){"use strict";(function(e){function r(t,e,n,r){u(t,e);var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=n(408).EventEmitter,o=n(407),s=n(411),a=n(409),c=e.XMLHttpRequest,u=function(){};o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new c}catch(t){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){u("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(t){return u("exception",t),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(u("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var l in i.headers)this.xhr.setRequestHeader(l,i.headers[l]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(u("readyState",n.readyState),n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}u("status",e),1223===e&&(e=204),200===e&&t&&t.length>0&&(u("chunk"),o.emit("chunk",e,t));break;case 4:e=n.status,u("status",e),1223===e&&(e=204),12005!==e&&12029!==e||(e=0),u("finish",e,n.responseText),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(t){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){u("close"),this._cleanup(!0)},r.enabled=!!c;var l=["Active"].concat("Object").join("X");!r.enabled&&l in e&&(u("overriding xmlhttprequest"),c=function(){try{return new e[l]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new c);var h=!1;try{h="withCredentials"in new c}catch(t){}r.supportsCORS=h,t.exports=r}).call(e,n(14))},439:function(t,e,n){"use strict";function r(t){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=n(407),o=n(413),s=n(417),a=n(420);i(r,o),r.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},r.transportName="xdr-streaming",r.roundTrips=2,t.exports=r},440:function(t,e,n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/eventsource",s,a)}var i=n(407),o=n(413),s=n(498),a=n(418),c=n(441);i(r,o),r.enabled=function(){return!!c},r.transportName="eventsource",r.roundTrips=2,t.exports=r},441:function(t,e,n){(function(e){t.exports=e.EventSource}).call(e,n(14))},442:function(t,e,n){"use strict";function r(t,e,n){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this);var i=this;this.origin=c.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=h.string(8);var o=c.addPath(n,"/iframe.html")+"#"+this.windowId;f(t,e,o),this.iframeObj=u.createIframe(o,function(t){f("err callback"),i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var i=n(407),o=n(410),s=n(408).EventEmitter,a=n(443),c=n(409),u=n(416),l=n(411),h=n(412),f=function(){};i(r,s),r.prototype.close=function(){if(f("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},r.prototype._message=function(t){if(f("message",t.data),!c.isOriginEqual(t.origin,this.origin))return void f("not same origin",t.origin,this.origin);var e;try{e=o.parse(t.data)}catch(e){return void f("bad json",t.data)}if(e.windowId!==this.windowId)return void f("mismatched window id",e.windowId,this.windowId);switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=o.parse(e.data)}catch(t){return void f("bad json",e.data)}this.emit("close",n[0],n[1]),this.close()}},r.prototype.postMessage=function(t,e){f("postMessage",t,e),this.iframeObj.post(o.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},r.prototype.send=function(t){f("send",t),this.postMessage("m",t)},r.enabled=function(){return u.iframeEnabled},r.transportName="iframe",r.roundTrips=2,t.exports=r},443:function(t,e){t.exports="1.3.0"},444:function(t,e,n){"use strict";function r(t){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",o,s)}var i=n(407),o=n(500),s=n(414),a=n(413);i(r,a),r.enabled=function(t){return o.enabled&&t.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,t.exports=r},445:function(t,e,n){"use strict";function r(t){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",s,a)}var i=n(407),o=n(413),s=n(417),a=n(418),c=n(414);i(r,o),r.enabled=function(t){return!t.nullOrigin&&(!(!c.enabled||!t.sameOrigin)||a.enabled)},r.transportName="xhr-polling",r.roundTrips=2,t.exports=r},446:function(t,e,n){"use strict";(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(e,n(14))},447:function(t,e,n){"use strict";function r(t){var e=this;o.call(this),this.ir=new c(t,a),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",s.stringify([t,n]))})}var i=n(407),o=n(408).EventEmitter,s=n(410),a=n(414),c=n(448);i(r,o),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=r},448:function(t,e,n){"use strict";function r(t,e){i.call(this);var n=this,r=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var i,o;if(200===t){if(o=+new Date-r,e)try{i=s.parse(e)}catch(t){c("bad json",e)}a.isObject(i)||(i={})}n.emit("finish",i,o),n.removeAllListeners()})}var i=n(408).EventEmitter,o=n(407),s=n(410),a=n(422),c=function(){};o(r,i),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=r},483:function(t,e,n){var r=n(433),i=n(484);t.exports=r.Stomp,t.exports.overTCP=i.overTCP,t.exports.overWS=i.overWS},484:function(t,e,n){(function(){var t,r,i,o,s,a;t=n(433),r=n(434),t.Stomp.setInterval=function(t,e){return setInterval(e,t)},t.Stomp.clearInterval=function(t){return clearInterval(t)},s=function(t,e){var n,i;return n=null,i={url:"tcp:// "+e+":"+t,send:function(t){return n.write(t)},close:function(){return n.end()}},n=r.connect(t,e,function(t){return i.onopen()}),n.on("error",function(t){return"function"==typeof i.onclose?i.onclose(t):void 0}),n.on("close",function(t){return"function"==typeof i.onclose?i.onclose(t):void 0}),n.on("data",function(t){var e;return e={data:t.toString()},i.onmessage(e)}),i},a=function(t){var e,r,i,o;return e=n(485).client,r=null,o={url:t,send:function(t){return r.sendUTF(t)},close:function(){return r.close()}},i=new e,i.on("connect",function(t){return r=t,o.onopen(),r.on("error",function(t){return"function"==typeof o.onclose?o.onclose(t):void 0}),r.on("close",function(){return"function"==typeof o.onclose?o.onclose():void 0}),r.on("message",function(t){var e;if("utf8"===t.type)return e={data:t.utf8Data},o.onmessage(e)})}),i.connect(t),o},i=function(e,n){var r;return r=s(n,e),t.Stomp.over(r)},o=function(e){var n;return n=a(e),t.Stomp.over(n)},e.overTCP=i,e.overWS=o}).call(this)},485:function(t,e,n){function r(t,e){return e?new o(t,e):new o(t)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket,s=n(486);o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(r,t,{get:function(){return o[t]}})}),t.exports={w3cwebsocket:o?r:null,version:s}},486:function(t,e,n){t.exports=n(487).version},487:function(t,e){t.exports={_from:"websocket@latest",_id:"websocket@1.0.28",_inBundle:!1,_integrity:"sha1-nl9v3Io/4B1EImR++Tq92NRaeNM=",_location:"/websocket",_phantomChildren:{ms:"2.0.0"},_requested:{type:"tag",registry:!0,raw:"websocket@latest",name:"websocket",escapedName:"websocket",rawSpec:"latest",saveSpec:null,fetchSpec:"latest"},_requiredBy:["/stompjs"],_resolved:"http://registry.npm.taobao.org/websocket/download/websocket-1.0.28.tgz",_shasum:"9e5f6fdc8a3fe01d4422647ef93abdd8d45a78d3",_spec:"websocket@latest",_where:"D:\\AA.WORK\\BSTL\\Git\\exchange_admin_web\\node_modules\\stompjs",author:{name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},bundleDependencies:!1,config:{verbose:!1},contributors:[{name:"Iñaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.11.0","typedarray-to-buffer":"^3.1.5",yaeti:"^0.0.6"},deprecated:!1,description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},directories:{lib:"./lib"},engines:{node:">=0.10.0"},homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",name:"websocket",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.28"}},488:function(t,e,n){"use strict";(function(e){var r=n(489);t.exports=n(505)(r),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(e,n(14))},489:function(t,e,n){"use strict";t.exports=[n(490),n(495),n(439),n(440),n(421)(n(440)),n(444),n(421)(n(444)),n(445),n(501),n(421)(n(445)),n(502)]},490:function(t,e,n){"use strict";function r(t,e,n){if(!r.enabled())throw new Error("Transport created when disabled");a.call(this),u("constructor",t);var s=this,l=o.addPath(t,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new c(this.url,[],n),this.ws.onmessage=function(t){u("message event",t.data),s.emit("message",t.data)},this.unloadRef=i.unloadAdd(function(){u("unload"),s.ws.close()}),this.ws.onclose=function(t){u("close event",t.code,t.reason),s.emit("close",t.code,t.reason),s._cleanup()},this.ws.onerror=function(t){u("error event",t),s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}var i=n(411),o=n(409),s=n(407),a=n(408).EventEmitter,c=n(494),u=function(){};s(r,a),r.prototype.send=function(t){var e="["+t+"]";u("send",e),this.ws.send(e)},r.prototype.close=function(){u("close");var t=this.ws;this._cleanup(),t&&t.close()},r.prototype._cleanup=function(){u("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},r.enabled=function(){return u("enabled"),!!c},r.transportName="websocket",r.roundTrips=2,t.exports=r},491:function(t,e,n){"use strict";(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(e,n(14))},492:function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},493:function(t,e,n){"use strict";function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function i(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,i={};e=n.exec(t);){var o=r(e[1]),s=r(e[2]);null===o||null===s||o in i||(i[o]=s)}return i}function o(t,e){e=e||"";var n,r,i=[];"string"!=typeof e&&(e="?");for(r in t)if(a.call(t,r)){if(n=t[r],n||null!==n&&n!==s&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;i.push(r+"="+n)}return i.length?e+i.join("&"):""}var s,a=Object.prototype.hasOwnProperty;e.stringify=o,e.parse=i},494:function(t,e,n){"use strict";(function(e){var n=e.WebSocket||e.MozWebSocket;t.exports=n?function(t){return new n(t)}:void 0}).call(e,n(14))},495:function(t,e,n){"use strict";(function(e){function r(t){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=n(407),o=n(413),s=n(417),a=n(418),c=n(414),u=n(415);i(r,o),r.enabled=function(t){return!t.nullOrigin&&(!u.isOpera()&&a.enabled)},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!e.document,t.exports=r}).call(e,n(14))},496:function(t,e,n){"use strict";function r(t,e){s(t),o.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var i=n(407),o=n(408).EventEmitter,s=function(){};i(r,o),r.prototype.send=function(t){s("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){s("sendScheduleWait");var t,e=this;this.sendStop=function(){s("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){s("timeout"),e.sendStop=null,e.sendSchedule()},25)},r.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(s("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},r.prototype.close=function(){s("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=r},497:function(t,e,n){"use strict";function r(t,e,n){s(e),o.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var i=n(407),o=n(408).EventEmitter,s=function(){};i(r,o),r.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){s("message",e),t.emit("message",e)}),e.once("close",function(n,r){s("close",n,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},r.prototype.abort=function(){s("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=r},498:function(t,e,n){"use strict";function r(t){a(t),o.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){a("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){a("error",n.readyState,t);var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var i=n(407),o=n(408).EventEmitter,s=n(441),a=function(){};i(r,o),r.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){a("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},r.prototype._close=function(t){a("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},t.exports=r},499:function(t,e){(function(e){t.exports=e}).call(e,{})},500:function(t,e,n){"use strict";(function(e){function r(t){u(t),a.call(this);var n=this;o.polluteGlobalNamespace(),this.id="a"+c.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),u("using htmlfile",r.htmlfileEnabled);var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;e[o.WPrefix][this.id]={start:function(){u("start"),n.iframeObj.loaded()},message:function(t){u("message",t),n.emit("message",t)},stop:function(){u("stop"),n._cleanup(),n._close("network")}},this.iframeObj=i(t,function(){u("callback"),n._cleanup(),n._close("permanent")})}var i=n(407),o=n(416),s=n(409),a=n(408).EventEmitter,c=n(412),u=function(){};i(r,a),r.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e[o.WPrefix][this.id]},r.prototype._close=function(t){u("_close",t),this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in e)try{r.htmlfileEnabled=!!new e[l]("htmlfile")}catch(t){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,t.exports=r}).call(e,n(14))},501:function(t,e,n){"use strict";function r(t){if(!c.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",a,c)}var i=n(407),o=n(413),s=n(439),a=n(417),c=n(420);i(r,o),r.enabled=s.enabled,r.transportName="xdr-polling",r.roundTrips=2,t.exports=r},502:function(t,e,n){"use strict";(function(e){function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=n(407),o=n(437),s=n(503),a=n(504);i(r,o),r.enabled=function(){return!!e.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,t.exports=r}).call(e,n(14))},503:function(t,e,n){"use strict";(function(e){function r(t){l(t);var n=this;u.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));e[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){l("timeout"),n._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=n(416),o=n(412),s=n(415),a=n(409),c=n(407),u=n(408).EventEmitter,l=function(){};c(r,u),r.prototype.abort=function(){if(l("abort"),e[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){l("_callback",t),this._cleanup(),this.aborting||(t&&(l("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){l("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete e[i.WPrefix][this.id]},r.prototype._scriptError=function(){l("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){l("_createScript",t);var n,r=this,i=this.script=e.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){l("onload"),r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(l("onreadystatechange",i.readyState),/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&e.document.attachEvent)if(s.isOpera())n=this.script2=e.document.createElement("script"),n.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=n.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(t){}i.async=!0}void 0!==i.async&&(i.async=!0);var a=e.document.getElementsByTagName("head")[0];a.insertBefore(i,a.firstChild),n&&a.insertBefore(n,a.firstChild)},t.exports=r}).call(e,n(14))},504:function(t,e,n){"use strict";(function(e){function r(t){u("createIframe",t);try{return e.document.createElement('<iframe name="'+t+'">')}catch(r){var n=e.document.createElement("iframe");return n.name=t,n}}function i(){u("createForm"),o=e.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=e.document.createElement("textarea"),s.name="d",o.appendChild(s),e.document.body.appendChild(o)}var o,s,a=n(412),c=n(409),u=function(){};t.exports=function(t,e,n){u(t,e),o||i();var l="a"+a.string(8);o.target=l,o.action=c.addQuery(c.addPath(t,"/jsonp_send"),"i="+l);var h=r(l);h.id=l,h.style.display="none",o.appendChild(h);try{s.value=e}catch(t){}o.submit();var f=function(t){u("completed",l,t),h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){u("cleaning up",l),h.parentNode.removeChild(h),h=null},500),s.value="",n(t))};return h.onerror=function(){u("onerror",l),f()},h.onload=function(){u("onload",l),f()},h.onreadystatechange=function(t){u("onreadystatechange",l,h.readyState,t),"complete"===h.readyState&&f()},function(){u("aborted",l),f(new Error("Aborted"))}}}).call(e,n(14))},505:function(t,e,n){"use strict";(function(e){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");b.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&v.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return u.string(i)}}this._server=n.server||u.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===y.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var c=e.sort();c.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<c.length-1&&t===c[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var l=h.getOrigin(y.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,S("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:h.isOriginEqual(this.url,y.href),sameScheme:h.isSchemeEqual(this.url,y.href)},this._ir=new x(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&t<=4999}n(506);var o,s=n(435),a=n(407),c=n(410),u=n(412),l=n(507),h=n(409),f=n(411),p=n(508),d=n(422),m=n(415),v=n(509),g=n(423),b=n(436),y=n(446),w=n(510),_=n(511),x=n(512),S=function(){};a(r,b),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(l.quote(t))},r.version=n(443),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(S("_receiveInfo",e),this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=d.extend(t,this._urlInfo),S("info",t);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,S(this._transports.length+" enabled transports"),this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(S("attempt",t.transportName),t.needBody&&(!e.document.body||void 0!==e.document.readyState&&"complete"!==e.document.readyState&&"interactive"!==e.document.readyState))return S("waiting for body"),this._transports.unshift(t),void f.attachEvent("load",this._connect.bind(this));var n=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n),S("using timeout",n);var r=h.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName];S("transport url",r);var o=new t(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){S("_transportTimeout"),this.readyState===r.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},r.prototype._transportMessage=function(t){S("_transportMessage",t);var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void S("heartbeat",this.transport)}if(i)try{e=c.parse(i)}catch(t){S("bad json",i)}if(void 0===e)return void S("empty payload",i);switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){S("message",n.transport,t),n.dispatchEvent(new _(t))});break;case"m":S("message",this.transport,e),this.dispatchEvent(new _(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){if(S("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!i(t)&&2e3!==t&&this.readyState===r.CONNECTING)return void this._connect();this._close(t,e)},r.prototype._open=function(){S("_open",this._transport.transportName,this.readyState),this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),S("connected",this.transport)):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){S("_close",this.transport,t,e,n,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new g("error"));var o=new w("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,S("disconnected")}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return o=p(t),n(515)(r,t),r}}).call(e,n(14))},506:function(t,e,n){"use strict";function r(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function i(t){return t>>>0}function o(){}var s,a=Array.prototype,c=Object.prototype,u=Function.prototype,l=String.prototype,h=a.slice,f=c.toString,p=function(t){return"[object Function]"===c.toString.call(t)},d=function(t){return"[object Array]"===f.call(t)},m=function(t){return"[object String]"===f.call(t)},v=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();s=v?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var g=function(t,e,n){for(var r in e)c.hasOwnProperty.call(e,r)&&s(t,r,e[r],n)},b=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};g(u,{bind:function(t){var e=this;if(!p(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=h.call(arguments,1),r=function(){if(this instanceof c){var r=e.apply(this,n.concat(h.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(h.call(arguments)))},i=Math.max(0,e.length-n.length),s=[],a=0;a<i;a++)s.push("$"+a);var c=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(o.prototype=e.prototype,c.prototype=new o,o.prototype=null),c}}),g(Array,{isArray:d});var y=Object("a"),w="a"!==y[0]||!(0 in y);g(a,{forEach:function(t){var e=b(this),n=w&&m(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!p(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n}(a.forEach));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);g(a,{indexOf:function(t){var e=w&&m(this)?this.split(""):b(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=r(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}},_);var x=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];l.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==f.call(e))return x.call(this,e,n);var o,s,c,u,l=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),p=0;for(e=new RegExp(e.source,h+"g"),r+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",h)),n=void 0===n?-1>>>0:i(n);(s=e.exec(r))&&!((c=s.index+s[0].length)>p&&(l.push(r.slice(p,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<r.length&&a.push.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=n));)e.lastIndex===s.index&&e.lastIndex++;return p===r.length?!u&&e.test("")||l.push(""):l.push(r.slice(p)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(l.split=function(t,e){return void 0===t&&0===e?[]:x.call(this,t,e)});var S=l.substr,C="".substr&&"b"!=="0b".substr(-1);g(l,{substr:function(t,e){return S.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},C)},507:function(t,e,n){"use strict";var r,i=n(410),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};t.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=s(o)),e.replace(o,function(t){return r[t]})):e}}},508:function(t,e,n){"use strict";var r=function(){};t.exports=function(t){return{filterToEnabled:function(e,n){var i={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){if(t)return"websocket"===t.transportName&&!1===n.websocket?void r("disabled from server","websocket"):e.length&&-1===e.indexOf(t.transportName)?void r("not in whitelist",t.transportName):void(t.enabled(n)?(r("enabled",t.transportName),i.main.push(t),t.facadeTransport&&i.facade.push(t.facadeTransport)):r("disabled",t.transportName))}),i}}}},509:function(t,e,n){"use strict";(function(e){var n={};["log","debug","warn"].forEach(function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(t){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log}),t.exports=n}).call(e,n(14))},510:function(t,e,n){"use strict";function r(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var i=n(407),o=n(423);i(r,o),t.exports=r},511:function(t,e,n){"use strict";function r(t){o.call(this),this.initEvent("message",!1,!1),this.data=t}var i=n(407),o=n(423);i(r,o),t.exports=r},512:function(t,e,n){"use strict";function r(t,e){p(t);var n=this;i.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var i=n(408).EventEmitter,o=n(407),s=n(409),a=n(420),c=n(418),u=n(414),l=n(513),h=n(514),f=n(448),p=function(){};o(r,i),r._getReceiver=function(t,e,n){return n.sameOrigin?new f(e,u):c.enabled?new f(e,c):a.enabled&&n.sameScheme?new f(e,a):h.enabled()?new h(t,e):new f(e,l)},r.prototype.doXhr=function(t,e){var n=this,i=s.addPath(t,"/info");p("doXhr",i),this.xo=r._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){p("timeout"),n._cleanup(!1),n.emit("finish")},r.timeout),this.xo.once("finish",function(t,e){p("finish",t,e),n._cleanup(!0),n.emit("finish",t,e)})},r.prototype._cleanup=function(t){p("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},r.prototype.close=function(){p("close"),this.removeAllListeners(),this._cleanup(!1)},r.timeout=8e3,t.exports=r},513:function(t,e,n){"use strict";function r(){var t=this;i.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},r.timeout)}var i=n(408).EventEmitter;n(407)(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,t.exports=r},514:function(t,e,n){"use strict";(function(e){function r(t,n){var r=this;i.call(this);var o=function(){var e=r.ifr=new c(u.transportName,n,t);e.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(e){return l("bad json",t),r.emit("finish"),void r.close()}var n=e[0],i=e[1];r.emit("finish",n,i)}r.close()}),e.once("close",function(){r.emit("finish"),r.close()})};e.document.body?o():a.attachEvent("load",o)}var i=n(408).EventEmitter,o=n(407),s=n(410),a=n(411),c=n(442),u=n(447),l=function(){};o(r,i),r.enabled=function(){return c.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=r}).call(e,n(14))},515:function(t,e,n){"use strict";var r=n(409),i=n(411),o=n(410),s=n(516),a=n(447),c=n(416),u=n(446),l=function(){};t.exports=function(t,e){var n={};e.forEach(function(t){t.facadeTransport&&(n[t.facadeTransport.transportName]=t.facadeTransport)}),n[a.transportName]=a;var h;t.bootstrap_iframe=function(){var e;c.currentWindowId=u.hash.slice(1);var a=function(i){if(i.source===parent&&(void 0===h&&(h=i.origin),i.origin===h)){var a;try{a=o.parse(i.data)}catch(t){return void l("bad json",i.data)}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var f;try{f=o.parse(a.data)}catch(t){l("bad json",a.data);break}var p=f[0],d=f[1],m=f[2],v=f[3];if(l(p,d,m,v),p!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+p+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(m,u.href)||!r.isOriginEqual(v,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+m+", "+v+")");e=new s(new n[d](m,v));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}};i.attachEvent("message",a),c.postMessage("s")}}},516:function(t,e,n){"use strict";function r(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var i=n(410),o=n(416);r.prototype._transportClose=function(t,e){o.postMessage("c",i.stringify([t,e]))},r.prototype._transportMessage=function(t){o.postMessage("t",t)},r.prototype._send=function(t){this._transport.send(t)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=r},543:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),n(649);var i=n(54),o=n(5),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(419),c=n(113),u=n(53),l=n(483),h=n(488);e.default={name:"member-chat",data:function(){return{basis:{appId:"",accessToken:"",userId:"",userName:""},user:{query:"",list:[],activeIndex:null,pageSize:10,pageNo:1,loading:!1,push:{finished:!0}},member:{list:[],activeIndex:null},chat:{list:[],message:"",pic:"",loading:!1,pageSize:20,connected:!1,push:{finished:!0},picture:{show:!1,url:""}}}},computed:{},mounted:function(){this.init()},methods:{init:function(){this.getBasisMessage(),this.createSocket(),this.getUserList(),this.getMemberChat()},getBasisMessage:function(){var t=localStorage.getItem("app/order/custom/chat/message"),e=t?JSON.parse(t):{};this.basis.appId=e.appId,this.basis.accessToken=e.accessToken;var n=s.default.get("userInfo"),r=n?JSON.parse(n):{};this.basis.userId=r.id,this.basis.userName=r.username},getUserList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.user.loading){this.user.loading=!0,e?this.user.pageNo++:this.user.pageNo=1;var n={account:this.user.query,commonStatus:0,pageSize:this.user.pageSize,pageNo:this.user.pageNo};(0,u.memberManage)(n).then(function(n){if(t.user.loading=!1,0===n.code){var i=n.data.content;t.user.push.finished=t.user.pageSize>i.length,t.user.list=e?[].concat(r(t.user.list),r(i)):i}else t.user.pageNo--,t.$Message.error("获取聊会员列表失败！")}).catch(function(e){t.user.loading=!1,t.user.pageNo--,t.$Message.error("获取会员列表失败！")})}},getMemberChat:function(){var t=this;(0,a.getMemberChat)().then(function(e){t.member.list=e,t.member.list.length>0&&(t.member.activeIndex=0,t.getChatHistory())}).catch(function(e){t.$Message.error("获取最近聊天会员列表失败！")})},getChatHistory:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.chat.loading)return this.$Message.error("正在获取历史聊天记录！");this.chat.loading=!0;var n=this.getCurMemberAcitve(),i={cdId:n.cdId,appId:this.basis.appId,accessToken:this.basis.accessToken};i.minChatId=e?this.chat.list[0].chatId:0,(0,a.getChatHistoryKfAndCd)(i).then(function(i){var o=i.reverse();t.chat.push.finished=t.chat.pageSize>o.length,e?t.chat.list=[].concat(r(o),r(t.chat.list)):(t.chat.list=o,t.member.list.forEach(function(t){t.cdId==n.cdId&&(t.unReadCnt=0)}),t.scrollToBottom()),t.chat.loading=!1}).catch(function(e){t.chat.loading=!1,t.$Message.error("获取聊天记录失败！")})},createSocket:function(){var t=this;this.closeSocket();var e=i.BASEURL+"chat/socket/chat-webSocket",n=new h(e);this._socket=l.over(n),this._socket.connect({},function(e){t.$Notice.success({top:50,duration:5,title:"提示",desc:"聊天室连接成功，可以进行聊天了~"}),t.chat.connected=!0,t.getSockMessage()},function(e){t.chat.connected=!1,t.$Notice.error({top:50,duration:5,title:"提示",desc:"聊天室连接失败，请重试！"})})},closeSocket:function(){this._socket&&(this._socket.disconnect(),this._socket=null)},getSockMessage:function(){var t=this;this._socket.subscribe("/topic/chatMsg/kf/"+this.basis.userId,function(e){var n=JSON.parse(e.body);if(7==n.uidType){var r=t.getCurMemberAcitve(),i=n.uidFrom,o=t.member.list.findIndex(function(t){return t.cdId==i});t.member.list.length>0&&r&&o>-1?r.cdId==i?t.getChatHistory():t.member.list.forEach(function(t){t.cdId==i&&t.unReadCnt++}):t.getMemberChat()}})},sendSocketMessage:function(t){var e=this.getCurMemberAcitve(),n={uidTo:e.cdId,uidFrom:this.basis.userId,nameFrom:this.basis.userName,nameTo:e.cdName,content:t.content,type:t.type,appId:this.basis.appId,accessToken:this.basis.accessToken,uidType:5};this.chat.list.push(n),this.scrollToBottom(),this._socket.send("/app/message/nologin",{},JSON.stringify(n))},sendMessage:function(){var t=[{value:this.chat.connected,rules:[{message:"当前聊天室连接未成功，请重试！",rule:function(t,e,n){return!!t}}]},{value:this.member.activeIndex,rules:[{message:"当前没有选择会员！",rule:function(t,e,n){return null!=t}}]},{value:this.chat.message,rules:[{message:"聊天内容不能为空！",rule:function(t,e,n){return!e.isFalsy(t)}},{message:"聊天内容不能全部为空字符串！",rule:function(t,e,n){return!n.empty.test(t)}},{message:"聊天内容长度不能超过150",rule:function(t,e,n){return t.length<151}}]}],e=this.$validators.validator(t);!0===e?(this.sendSocketMessage({content:this.chat.message,type:0}),this.chat.message=""):this.$Message.error(e)},sendPic:function(){var t=[{value:this.chat.connected,rules:[{message:"当前聊天室连接未成功，请重试！",rule:function(t,e,n){return!!t}}]},{value:this.member.activeIndex,rules:[{message:"当前没有选择会员！",rule:function(t,e,n){return null!=t}}]},{value:this.chat.pic,rules:[{message:"发送失败，请重新尝试！",rule:function(t,e,n){return!!t}}]}],e=this.$validators.validator(t);!0===e?(this.sendSocketMessage({content:this.chat.pic,type:1}),this.chat.pic=""):this.$Message.error(e)},scrollToBottom:function(){var t=this;setTimeout(function(){var e=t.$refs.chat;e&&(e.scrollTop=e.scrollHeight)},300)},getCurMemberAcitve:function(){return this.member.list[this.member.activeIndex]},selectPic:function(t){var e=this,n=t.target.files[0],r=new FormData;r.append("file",n),(0,c.uploadImage)(r).then(function(t){"000"===t.code?(e.chat.pic=t.data.url,e.sendPic()):e.$Message.error("发送图片失败！")}).catch(function(t){e.$Message.error("发送图片失败！")})},showPicture:function(t){this.chat.picture.url=t,this.chat.picture.show=!0},changeUser:function(t,e){var n=this.member.list.findIndex(function(e){return e.cdId===t.id});n>-1?this.member.activeIndex=n:(this.member.list.unshift({cdName:t.username,unReadCnt:0,mobilePhone:t.mobilePhone,cdId:t.id}),this.member.activeIndex=0),this.getChatHistory()},changeMember:function(t,e){this.member.activeIndex!==e&&(this.member.activeIndex=e,this.getChatHistory())},isMine:function(t){return"5"==t.uidType}},beforeDestroy:function(){this.closeSocket()}}},647:function(t,e,n){var r=n(648);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(13)("56244590",r,!1,{})},648:function(t,e,n){e=t.exports=n(12)(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},649:function(t,e){},650:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vv-chat"},[n("Modal",{model:{value:t.chat.picture.show,callback:function(e){t.$set(t.chat.picture,"show",e)},expression:"chat.picture.show"}},[n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:t.chat.picture.url,alt:""}})]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"})]),t._v(" "),n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      会员交流\n      "),n("Button",{attrs:{type:"primary",size:"small"},on:{click:t.init}},[n("Icon",{attrs:{type:"refresh"}}),t._v(" 刷新\n      ")],1)],1),t._v(" "),n("div",{staticClass:"vv-chat--body"},[n("div",{directives:[{name:"css",rawName:"v-css.padding|top:50px",modifiers:{"padding|top:50px":!0}},{name:"css",rawName:"v-css.position|position:relative",modifiers:{"position|position:relative":!0}},{name:"css",rawName:"v-css.size|width:250px",modifiers:{"size|width:250px":!0}},{name:"css",rawName:"v-css.border-right|color:#e3e8ee",modifiers:{"border-right|color:#e3e8ee":!0}}]},[n("div",{directives:[{name:"css",rawName:"v-css.size|width:100%|height:50px",modifiers:{"size|width:100%|height:50px":!0}},{name:"css",rawName:"v-css.position|position:absolute|top:0|left:0",modifiers:{"position|position:absolute|top:0|left:0":!0}},{name:"css",rawName:"v-css.flex",modifiers:{flex:!0}},{name:"css",rawName:"v-css.padding|ab:10px",modifiers:{"padding|ab:10px":!0}}]},[n("div",{directives:[{name:"css",rawName:"v-css.margin|right:10px",modifiers:{"margin|right:10px":!0}},{name:"css",rawName:"v-css.flex-item|flex:1",modifiers:{"flex-item|flex:1":!0}}]},[n("Poptip",{attrs:{trigger:"hover",content:"请输入用户名、邮箱、手机号、姓名搜索",placement:"bottom-start"}},[n("Input",{attrs:{placeholder:"请输入用户名、邮箱、手机号、姓名搜索"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.getUserList(!1)}},model:{value:t.user.query,callback:function(e){t.$set(t.user,"query",e)},expression:"user.query"}})],1)],1),t._v(" "),n("div",[n("i-button",{attrs:{type:"primary"},on:{click:function(e){t.getUserList(!1)}}},[t._v("搜索")])],1)]),t._v(" "),n("div",{directives:[{name:"css",rawName:"v-css.size|height:100%",modifiers:{"size|height:100%":!0}},{name:"css",rawName:"v-css.layout|overflow:auto",modifiers:{"layout|overflow:auto":!0}}]},[t._l(t.user.list,function(e,r){return n("div",{directives:[{name:"css",rawName:"v-css.padding|all:10px",modifiers:{"padding|all:10px":!0}},{name:"css",rawName:"v-css.more|cursor",modifiers:{"more|cursor":!0}},{name:"css",rawName:"v-css.border-bottom|color:#fafafa",modifiers:{"border-bottom|color:#fafafa":!0}}],key:r,staticClass:"vv-user-item",on:{click:function(n){t.changeUser(e,r)}}},[n("p",{directives:[{name:"css",rawName:"v-css.margin|bm:5px",modifiers:{"margin|bm:5px":!0}}]},[t._v(t._s(e.username))]),t._v(" "),n("div",{directives:[{name:"css",rawName:"v-css.flex|justify:space-between",modifiers:{"flex|justify:space-between":!0}}]},[n("span",{directives:[{name:"css",rawName:"v-css.text|size:12px|color:#666",modifiers:{"text|size:12px|color:#666":!0}}]},[t._v(t._s(e.realName))]),t._v(" "),n("span",{directives:[{name:"css",rawName:"v-css.text|size:12px|color:#999",modifiers:{"text|size:12px|color:#999":!0}}]},[t._v(t._s(e.mobilePhone))])])])}),t._v(" "),t.user.push.finished?t._e():n("div",{directives:[{name:"css",rawName:"v-css.text|align:center|line-height:2",modifiers:{"text|align:center|line-height:2":!0}}],on:{click:function(e){t.getUserList(!0)}}},[n("span",{directives:[{name:"css",rawName:"v-css.text|color:#6560ff",modifiers:{"text|color:#6560ff":!0}},{name:"css",rawName:"v-css.more|cursor",modifiers:{"more|cursor":!0}}]},[t._v("加载更多")])])],2)]),t._v(" "),n("div",{directives:[{name:"css",rawName:"v-css.size|width:300px",modifiers:{"size|width:300px":!0}}]},[n("div",{directives:[{name:"css",rawName:"v-css.size|height:100%",modifiers:{"size|height:100%":!0}},{name:"css",rawName:"v-css.layout|overflow:auto",modifiers:{"layout|overflow:auto":!0}}]},t._l(t.member.list,function(e,r){return n("div",{directives:[{name:"css",rawName:"v-css.more|cursor",modifiers:{"more|cursor":!0}},{name:"css",rawName:"v-css.padding|ud:10px|ab:20px",modifiers:{"padding|ud:10px|ab:20px":!0}},{name:"css",rawName:"v-css.border-bottom|color:#fafafa",modifiers:{"border-bottom|color:#fafafa":!0}}],key:r,staticClass:"vv-room-item ",class:{"is-active":r==t.member.activeIndex},on:{click:function(n){t.changeMember(e,r)}}},[n("div",{directives:[{name:"css",rawName:"v-css.flex|justify:space-between",modifiers:{"flex|justify:space-between":!0}},{name:"css",rawName:"v-css.margin|bm:5px",modifiers:{"margin|bm:5px":!0}}]},[n("p",{staticClass:"title"},[t._v(t._s(e.cdName))]),t._v(" "),0!==e.unReadCnt?[n("mui-tag",{attrs:{label:e.unReadCnt}})]:t._e()],2),t._v(" "),n("div",{directives:[{name:"css",rawName:"v-css.flex|justify:space-between",modifiers:{"flex|justify:space-between":!0}}]},[n("p",{directives:[{name:"css",rawName:"v-css.text|size:12px",modifiers:{"text|size:12px":!0}}],staticClass:"title-sub"},[t._v(t._s(e.mobilePhone))]),t._v(" "),n("p",{directives:[{name:"css",rawName:"v-css.text|size:12px",modifiers:{"text|size:12px":!0}}],staticClass:"title-sub"},[t._v(t._s(e.createTime))])])])}))]),t._v(" "),n("div",{staticClass:"vv-chat--chat"},[n("div",{ref:"chat",staticClass:"chat"},[n("div",{staticClass:"chat-body"},[t.chat.push.finished?t._e():n("div",{staticClass:"chat-more"},[n("span",{on:{click:function(e){t.getChatHistory(!0)}}},[t._v("加载更多")])]),t._v(" "),t._l(t.chat.list,function(e,r){return n("div",{key:r,staticClass:"chat-item",class:{"is-left":!t.isMine(e),"is-right":t.isMine(e)}},[t.isMine(e)?t._e():[n("div",{staticClass:"chat-head"},[n("div",{staticClass:"chat-head-inner vc-flex--center"},[n("span",{staticClass:"chat-name"},[t._v(t._s(e.nameFrom?e.nameFrom.split("")[0]:""))])])]),t._v(" "),n("div",[n("div",{staticClass:"chat-name-detail"},[n("span",[t._v(t._s(e.nameFrom))])]),t._v(" "),n("div",{staticClass:"chat-content"},[n("div",[0===e.type?n("div",[n("span",{staticClass:"chat-info"},[t._v(t._s(e.content))])]):t._e(),t._v(" "),1===e.type?n("div",{on:{click:function(n){t.showPicture(e.content)}}},[n("img",{staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:e.content,alt:""}})]):t._e()]),t._v(" "),n("i",{staticClass:"chat-point"})]),t._v(" "),e.sendTimeStr?n("div",{staticClass:"chat-time"},[t._v("\n                    "+t._s(e.sendTimeStr)+"\n\n                  ")]):t._e()])],t._v(" "),t.isMine(e)?[n("div",{staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"chat-name-detail"},[t._v("\n                    "+t._s(e.nameFrom)+"\n                  ")]),t._v(" "),n("div",{staticClass:"chat-content"},[n("div",[0===e.type?n("div",[n("span",{staticClass:"chat-info"},[t._v(t._s(e.content))])]):t._e(),t._v(" "),1===e.type?n("div",{on:{click:function(n){t.showPicture(e.content)}}},[n("img",{staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:e.content,alt:""}})]):t._e()]),t._v(" "),n("i",{staticClass:"chat-point"})]),t._v(" "),e.sendTimeStr?n("div",{staticClass:"chat-time"},[t._v("\n                    "+t._s(e.sendTimeStr)+"\n\n                  ")]):t._e()]),t._v(" "),n("div",{staticClass:"chat-head"},[n("div",{staticClass:"chat-head-inner vc-flex--center"},[n("span",{staticClass:"chat-name"},[t._v("我")])])])]:t._e()],2)})],2)]),t._v(" "),n("div",{staticClass:"chat-send"},[n("label",{staticClass:"upload",attrs:{for:"file"}},[n("Icon",{attrs:{type:"image",size:"36"}}),t._v(" "),n("input",{attrs:{type:"file",id:"file"},on:{change:t.selectPic}})],1),t._v(" "),n("div",{staticClass:"chat-send__input"},[n("Input",{attrs:{size:"large",placeholder:"输入聊天内容 按回车键可发送"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendMessage(e):null}},model:{value:t.chat.message,callback:function(e){t.$set(t.chat,"message",e)},expression:"chat.message"}})],1),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:t.sendMessage}},[t._v("发送")])],1)])])])],1)},i=[];r._withStripped=!0;var o={render:r,staticRenderFns:i};e.default=o}});